import numpy as np
import cv2
cap = cv2.VideoCapture('C0520.MP4')
fgbg = cv2.createBackgroundSubtractorMOG2()

while(1):
    ret, frame = cap.read()
    fgmask = fgbg.apply(frame)

    contours, hierarchy = cv2.findContours(fgmask, cv2.RETR_LIST, cv2.CHAIN_APPROX_SIMPLE)

    contour_sizes = [(cv2.contourArea(contour), contour) for contour in contours]
    biggest_contour = max(contour_sizes, key=lambda x: x[0])[1]
    cv2.drawContours(frame, [biggest_contour], -1, 255, -1)
    output=cv2.bitwise_and(frame,frame,mask=fgmask)



    cv2.imshow("frame",np.hstack([frame,output]))

    if cv2.waitKey(5) & 0xFF ==ord('q'):
        break
cap.release()
cv2.destroyAllWindows()
